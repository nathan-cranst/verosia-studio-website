<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <title>WordPress Speed Issues & Solutions - Verosia Studio</title>         
        <!-- Meta Tags -->         
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-K5QRF4CR');</script>
        <!-- End Google Tag Manager --> 
        <meta name="author" content="Verosia Studio"> 
        <meta name="description" content="Discover the common WordPress performance issues killing your site speed and learn how to fix them to outperform your competitors."> 
        <meta name="keywords" content="wordpress speed optimization, wordpress performance, wordpress belfast, website speed, wordpress development belfast, wordpress optimization">
        <meta name="robots" content="index, follow">
        <link rel="canonical" href="https://verosiastudio.com/wordpress-speed-optimization-belfast.html">
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="article">
        <meta property="og:url" content="https://verosiastudio.com/wordpress-speed-optimization-belfast.html">
        <meta property="og:title" content="Why Your WordPress Site is Slower Than Your Competitors - Verosia Studio">
        <meta property="og:description" content="Discover the common WordPress performance issues killing your site speed and learn how to fix them to outperform your competitors.">
        <meta property="og:image" content="https://verosiastudio.com/assets/images/verosia home/verosia logo.png">
        
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://verosiastudio.com/wordpress-speed-optimization-belfast.html">
        <meta property="twitter:title" content="Why Your WordPress Site is Slower Than Your Competitors - Verosia Studio">
        <meta property="twitter:description" content="Discover the common WordPress performance issues killing your site speed and learn how to fix them to outperform your competitors.">
        <meta property="twitter:image" content="https://verosiastudio.com/assets/images/verosia home/verosia logo.png">
        
        <!-- Structured Data -->
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Why Your WordPress Site is Slower Than Your Competitors",
          "description": "Discover the common WordPress performance issues killing your site speed and learn how to fix them to outperform your competitors.",
          "url": "https://verosiastudio.com/wordpress-speed-optimization-belfast.html",
          "datePublished": "2025-01-20",
          "dateModified": "2025-01-20",
          "author": {
            "@type": "Organization",
            "name": "Verosia Studio",
            "url": "https://verosiastudio.com"
          },
          "publisher": {
            "@type": "Organization",
            "name": "Verosia Studio",
            "url": "https://verosiastudio.com",
            "logo": {
              "@type": "ImageObject",
              "url": "https://verosiastudio.com/assets/images/verosia home/verosia logo.png"
            }
          },
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://verosiastudio.com/wordpress-speed-optimization-belfast.html"
          }
        }
        </script>
        
        <!-- Dark mode -->         
        <script>
		const storedTheme = localStorage.getItem('theme')

		const getPreferredTheme = () => {
			if (storedTheme) {
				return storedTheme
			}
			return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
		}

		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}

		setTheme(getPreferredTheme())


		// Fix mobile navbar collapse issues
		document.addEventListener('DOMContentLoaded', function() {
			const navbarToggler = document.querySelector('.navbar-toggler')
			const navbarCollapse = document.querySelector('.navbar-collapse')
			
			if (navbarToggler && navbarCollapse) {
				// Close navbar when clicking outside
				document.addEventListener('click', function(e) {
					if (!navbarToggler.contains(e.target) && !navbarCollapse.contains(e.target)) {
						if (navbarCollapse.classList.contains('show')) {
							navbarToggler.click()
						}
					}
				})
				
				// Close navbar when clicking on nav links
				const navLinks = document.querySelectorAll('.navbar-nav .nav-link')
				navLinks.forEach(link => {
					link.addEventListener('click', function() {
						if (navbarCollapse.classList.contains('show')) {
							navbarToggler.click()
						}
					})
				})
			}
		})
		
	</script>         
        <!-- Favicon -->         
        <link rel="icon" type="image/svg+xml" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.svg"> 
        <!-- Google Font -->         
        <link rel="preconnect" href="https://fonts.googleapis.com"> 
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet"> 
        <!-- Plugins CSS -->         
        <link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css"> 
        <link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap-icons/bootstrap-icons.css"> 
        <link rel="stylesheet" type="text/css" href="assets/vendor/swiper/swiper-bundle.min.css"> 
        <!-- Theme CSS -->         
        <link rel="stylesheet" type="text/css" href="assets/css/style.css"> 
    </head>     
    <body> 
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K5QRF4CR"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        
        <!-- Header Container -->
        <div id="header-container"></div>         
        <!-- **************** MAIN CONTENT START **************** -->         
        <main> 
            <!-- =======================
Blog detail START -->             
            <section class="pt-lg-8"> 
                <div class="container pt-4 pt-lg-0"> 
                    <div class="row g-4 g-sm-7"> 
                        <!-- Main content START -->                         
                        <div class="col-lg-8"> 
                            <!-- Breadcrumb -->                             
                            <div class="d-flex position-relative z-index-9"> 
                                <nav aria-label="breadcrumb"> 
                                    <ol class="breadcrumb breadcrumb-dots mb-1"> 
                                        <li class="breadcrumb-item">
                                            <a href="index.html">Home</a>
                                        </li>                                         
                                        <li class="breadcrumb-item">
                                            <a href="blog.html">Blog</a>
                                        </li>                                         
                                        <li class="breadcrumb-item active" aria-current="page">WordPress Speed Optimization</li>                                         
                                    </ol>                                     
                                </nav>                                 
                            </div>                             
                            <!-- Title -->                             
                            <h1 class="h2 mb-0">Why Your WordPress Site is Slower Than Your Competitors</h1> 
                            <!-- Action -->                             
                            <div class="d-flex align-items-center flex-wrap mt-4"> <a href="#" class="badge text-bg-dark mb-0">Web Development</a> <span class="text-secondary opacity-3 mx-3">|</span> 
                                <div class="dropdown"> <a href="#" class="text-secondary text-primary-hover" id="cardFeedAction" data-bs-toggle="dropdown" aria-expanded="false"> <i class="bi bi-share me-2"></i>Share</a> 
                                    <!-- Card feed action dropdown menu -->                                     
                                    <ul class="dropdown-menu min-w-auto" aria-labelledby="cardFeedAction"> 
                                        <li>
                                            <a class="dropdown-item" href="#"> <i class="bi bi-facebook fa-fw me-2"></i>Facebook</a>
                                        </li>                                         
                                        <li>
                                            <a class="dropdown-item" href="#"> <i class="bi bi-instagram fa-fw me-2"></i>Instagram</a>
                                        </li>                                         
                                        <li>
                                            <a class="dropdown-item" href="#"> <i class="bi bi-whatsapp fa-fw me-2"></i>Whatsapp</a>
                                        </li>                                         
                                        <li>
                                            <a class="dropdown-item" href="#"> <i class="fa-regular fa-paste fa-fw me-2"></i>Copy link</a>
                                        </li>                                         
                                    </ul>                                     
                                </div>                                 <span class="text-secondary opacity-3 mx-3">|</span> <a href="#" class="text-secondary text-primary-hover mb-0"><i class="bi bi-chat me-2"></i>Comments</a> <span class="text-secondary opacity-3 mx-3">|</span> <span class="text-secondary">5 min read</span> 
                            </div>                             
                            <!-- Image -->                             
                            <img src="https://images.unsplash.com/photo-1560472355-109703aa3edc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wyMDkyMnwwfDF8c2VhcmNofDZ8fHdvcmRwcmVzc3xlbnwwfHx8fDE3NTgzMjg3NjV8MA&ixlib=rb-4.1.0&q=80&w=1080" class="img-fluid rounded mt-5" alt="WordPress speed optimization" style="width: 100%; height: 400px; object-fit: cover; object-position: center;"> 
                            <!-- Content -->                             
                            <p class="mt-5">Ever noticed how some competitors always seem to rank higher and get more enquiries? Their secret might be simpler than you think.</p> 
                            <p>While you&apos;ve been focused on perfecting your services and delighting customers, there&apos;s a silent business killer that might be undoing all your hard work: website speed.</p>
                            <p>Most business owners don&apos;t realize their WordPress site is underperforming. After all, it loads fine on your office WiFi, right? But here&apos;s what your customers experience</p> 
                            <p>In this article, I'll walk you through the most common WordPress speed issues I encounter and show you exactly how to fix them. <strong>By the end, you'll have a clear roadmap</strong> to make your site faster than your competitors.</p> 
                            <p class="mb-0">Let's dive into the five biggest WordPress performance killers and how to eliminate them.</p>
                            <!-- Quote -->                             
                            <blockquote class="card card-body bg-light overflow-hidden mt-5 p-sm-5"> 
                                <!-- Vertical line -->                                 
                                <div class="vr bg-primary h-100 position-absolute top-0 start-0" style="width: 3px; opacity:100%"></div>                                 
                                <!-- Quote icon -->                                 <span class="display-4 position-absolute top-0 start-0 opacity-1 mt-n3"><i class="bi bi-quote"></i></span> 
                                <q class="fs-6 heading-color">A 1-second delay in page load time can result in a 7% reduction in conversions, 11% fewer page views, and 16% decrease in customer satisfaction.</q> 
                                <div class="blockquote-footer mb-0 lead mt-3"> 
                                    Google Research
</div>                                 
                            </blockquote>                             
                            <!-- Image and list content -->                             
                            <div class="row mt-5"> 
                                <!-- Content -->                                 
                                <div class="col-md-6"> 
                                    <h6 class="mb-4">The 5 Biggest WordPress Speed Killers</h6> 
                                    <!-- List -->                                     
                                    <ul class="ps-4 mb-4"> 
                                        <li class="mb-2">Unoptimized images weighing down your pages</li>                                         
                                        <li class="mb-2">Too many plugins loading unnecessary scripts</li>                                         
                                        <li class="mb-2">Poor hosting that can't handle traffic spikes</li>                                         
                                        <li class="mb-2">No caching system to speed up repeat visits</li>                                         
                                        <li class="mb-2">Heavy themes with bloated code</li>                                         
                                    </ul>                                     
                                    <!-- Content -->                                     
                                    <p class="small mb-0">These issues compound each other, creating a slow-loading site that frustrates visitors and hurts your search rankings.</p> 
                                </div>                                 
                                <!-- Image -->                                 
                                <div class="col-md-6 mt-5 mt-md-0"> <img src="assets/images/verosia home/verosia dashboard notes.png" class="rounded" alt="WordPress optimization tools"> 
                                </div>                                 
                            </div>                             
                            <h5 class="mt-5 mb-3">1. Optimize Your Images (The Low-Hanging Fruit)</h5>
                            <p>Images often account for 60-80% of your page weight. Most business owners upload images straight from their cameras or phones—these files are massive and unnecessary.</p>
                            <p><strong>Quick fix:</strong> Use tools like TinyPNG or compress images before uploading. For WordPress, install Smush or ShortPixel to automatically optimize images.</p>
                            <h5 class="mt-4 mb-3">2. Audit Your Plugins</h5>
                            <p>Every plugin adds code to your site. Some are necessary, but many business owners install plugins they don't actually use or need.</p>
                            <p><strong>Action step:</strong> Go through your plugins list. Deactivate any you haven't used in 3 months. You'll be surprised how much this helps.</p>
                            <h5 class="mt-4 mb-3">3. Invest in Quality Hosting</h5>
                            <p>Cheap shared hosting is often the bottleneck. When your site gets traffic, shared hosting slows down for everyone on that server.</p>
                            <p><strong>Recommendation:</strong> Upgrade to managed WordPress hosting. The speed improvement alone usually pays for the extra cost through better conversions.</p>
                            <h5 class="mt-4 mb-3">4. Implement Caching</h5>
                            <p>Caching creates static versions of your pages, so repeat visitors get served pre-built pages instead of generating them fresh each time.</p>
                            <p><strong>Easy solution:</strong> Install WP Rocket or W3 Total Cache. These plugins handle the technical setup automatically.</p>
                            <h5 class="mt-4 mb-3">5. Choose a Performance-Focused Theme</h5>
                            <p>Many premium themes are feature-heavy but performance-light. They include dozens of options you'll never use but still load on every page.</p>
                            <p><strong>Better approach:</strong> Choose a lightweight, well-coded theme. Sometimes less really is more.</p>
                            <h5 class="mt-4 mb-3">The Bottom Line</h5>
                            <p>Your WordPress site's speed directly impacts your business success. A slow site frustrates visitors, hurts your search rankings, and costs you money through lost conversions.</p>
                            <p>Start with image optimization and plugin auditing—these two changes alone can dramatically improve your site speed. Then invest in quality hosting and implement caching for the biggest performance gains.</p>
                            <p class="mb-0">Remember: every second counts. Your competitors aren't waiting for you to catch up.</p>
                            <!-- Helpful box -->                             
                            <div class="bg-light border rounded d-md-flex justify-content-between align-items-center text-center p-3 mt-5"> 
                                <!-- Title -->                                 
                                <h6 class="mb-0">Was this article helpful?</h6> <small class="py-3 p-md-0 d-block">Help other business owners by sharing your feedback</small> 
                                <!-- Check buttons -->                                 
                                <div class="btn-group" role="group" aria-label="Basic radio toggle button group"> 
                                    <!-- Yes button -->                                     
                                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1"> 
                                    <label class="btn btn-outline-secondary btn-sm mb-0" for="btnradio1">
                                        <i class="fa-regular fa-thumbs-up me-1"></i> Yes
                                    </label>                                     
                                    <!-- No button -->                                     
                                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2"> 
                                    <label class="btn btn-outline-secondary btn-sm mb-0" for="btnradio2"> No <i class="fa-regular fa-thumbs-down ms-1"></i>
                                    </label>                                     
                                </div>                                 
                            </div>                             
                        </div>                         
                        <!-- Main content END -->                         
                        <!-- Sidebar START -->                         
                        <div class="col-lg-4 ps-xl-6"> 
                            <!-- Author detail box -->                             
                            <div class="card card-body d-inline-block bg-light border p-4"> 
                                <!-- Avatar and info -->                                 
                                <div class="d-flex align-items-center mb-3"> 
                                    <!-- Avatar -->                                     
                                    <div class="avatar avatar-lg flex-shrink-0 me-2"> 
                                        <img class="avatar-img rounded-circle" src="assets/images/verosia home/Nathan-cranston-Founder-Verosia-Studio.jpg" alt="Nathan Cranston"> 
                                    </div>                                     
                                    <div class="ms-2"> 
                                        <h6 class="mb-0"><a href="#">Nathan Cranston</a></h6> <small>Founder & Lead Developer</small> 
                                    </div>                                     
                                </div>                                 
                                <!-- Button -->                                 <a href="about.html" class="btn btn-sm btn-outline-primary mb-0">Learn more about Nathan</a> 
                            </div>                             
                            <!-- Related post -->                             
                            <div class="align-items-center mt-5"> 
                                <h6 class="mb-3 d-inline-block">Related post:</h6> 
                                <ul class="list-group list-group-flush" id="related-posts-list"> 
                                    <!-- Dynamic content will be inserted here -->
                                </ul>                                 
                            </div>                             
                            <!-- Popular tags -->                             
                            <div class="align-items-center mt-5"> 
                                <h6 class="mb-3 d-inline-block">Popular Tags:</h6> 
                                <ul class="list-inline mb-0"> 
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">web development</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">wordpress</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">speed optimization</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">small business</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">northern ireland</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">performance</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">caching</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">hosting</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">seo</a> 
                                    </li>                                     
                                    <li class="list-inline-item"> <a class="btn btn-light btn-sm" href="#">founder</a> 
                                    </li>                                     
                                </ul>                                 
                            </div>                             
                        </div>                         
                        <!-- Sidebar END -->                         
                    </div>                     
                </div>                 
            </section>             
            <!-- =======================
Blog detail END -->             
        </main>         
        <!-- **************** MAIN CONTENT END **************** -->         
        <!-- =======================
        <!-- Footer Container -->
        <div id="footer-container"></div>         
        <!-- Back to top -->         
        <div class="back-top"></div>         
        <!-- Bootstrap JS -->         
        <script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>         
        <!-- Vendors -->         
        <script src="assets/vendor/ityped/index.js"></script>         
        <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>         
        <!-- Theme Functions -->         
        <script src="assets/js/functions.js"></script>         
        <!-- Template Loader Script -->
        <script>
            // Simple template loader
            async function loadTemplate(containerId, templatePath) {
                try {
                    const response = await fetch(templatePath);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const html = await response.text();
                    document.getElementById(containerId).innerHTML = html;

                    console.log(`✅ ${templatePath} loaded successfully`);
                } catch (error) {
                    console.error(`❌ Error loading ${templatePath}:`, error);
                }
            }

            // Dropdown hover functionality (desktop only)
            function initDropdownHover() {
                const dropdownHoverElements = document.querySelectorAll('.dropdown-hover');

                dropdownHoverElements.forEach(element => {
                    const dropdown = element.querySelector('.dropdown-menu');
                    const dropdownToggle = element.querySelector('[data-bs-toggle="dropdown"]');

                    if (dropdown && dropdownToggle) {
                        let timeout;
                        let isHoverEnabled = true;

                        // Check if we're in mobile view (hamburger menu visible)
                        function isMobileView() {
                            return window.getComputedStyle(document.querySelector('.navbar-toggler')).display !== 'none';
                        }

                        // Only trigger on the specific dropdown item, not parent containers
                        dropdownToggle.addEventListener('mouseenter', function() {
                            // Only enable hover when NOT in mobile view (hamburger menu hidden)
                            if (isHoverEnabled && !isMobileView()) {
                                clearTimeout(timeout);
                                const bsDropdown = new bootstrap.Dropdown(dropdownToggle);
                                bsDropdown.show();
                            }
                        });

                        // Hide when leaving the entire dropdown container
                        element.addEventListener('mouseleave', function() {
                            // Only hide on hover when NOT in mobile view
                            if (!isMobileView()) {
                                timeout = setTimeout(() => {
                                    const bsDropdown = bootstrap.Dropdown.getInstance(dropdownToggle);
                                    if (bsDropdown) {
                                        bsDropdown.hide();
                                    }
                                }, 100);
                            }
                        });

                        // Disable hover temporarily when clicking (to prevent conflicts)
                        dropdownToggle.addEventListener('click', function() {
                            isHoverEnabled = false;
                            setTimeout(() => {
                                isHoverEnabled = true;
                            }, 1000);
                        });
                    }
                });
            }

            // Blog feedback functionality
            function initBlogFeedback() {
                const feedbackButtons = document.querySelectorAll('input[name="btnradio"]');
                const feedbackContainer = document.querySelector('.bg-light.border.rounded');
                
                if (feedbackButtons.length === 0 || !feedbackContainer) return;
                
                feedbackButtons.forEach(button => {
                    button.addEventListener('change', function() {
                        if (this.checked) {
                            const isHelpful = this.id === 'btnradio1';
                            const feedback = isHelpful ? 'Yes' : 'No';
                            
                        // Store feedback in localStorage
                        const pageTitle = document.title;
                        const feedbackData = {
                            page: pageTitle,
                            feedback: feedback,
                            timestamp: new Date().toISOString()
                        };
                        
                        // Get existing feedback or create new array
                        let allFeedback = JSON.parse(localStorage.getItem('blogFeedback') || '[]');
                        allFeedback.push(feedbackData);
                        localStorage.setItem('blogFeedback', JSON.stringify(allFeedback));
                        
                        // Send feedback to Netlify Forms
                        sendFeedbackToNetlify(feedbackData);
                            
                            // Show thank you message
                            showFeedbackThankYou(feedbackContainer, isHelpful);
                            
                            // Disable buttons after selection
                            feedbackButtons.forEach(btn => btn.disabled = true);
                        }
                    });
                });
            }
            
            function sendFeedbackToNetlify(feedbackData) {
                // Create form data for Netlify
                const formData = new FormData();
                formData.append('form-name', 'blog-feedback');
                formData.append('page', feedbackData.page);
                formData.append('feedback', feedbackData.feedback);
                formData.append('timestamp', feedbackData.timestamp);
                formData.append('url', window.location.href);
                
                // Send to Netlify Forms
                fetch('/', {
                    method: 'POST',
                    body: formData
                }).catch(error => {
                    console.log('Feedback submission error:', error);
                    // Don't show error to user - feedback still works locally
                });
            }
            
            function showFeedbackThankYou(container, isHelpful) {
                const thankYouMessage = document.createElement('div');
                thankYouMessage.className = 'alert alert-success mt-3 mb-0';
                thankYouMessage.innerHTML = `
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>Thank you!</strong> 
                    ${isHelpful ? 'We\'re glad this article was helpful!' : 'Thanks for your feedback. We\'ll work to improve our content.'}
                `;
                
                // Insert after the feedback container
                container.parentNode.insertBefore(thankYouMessage, container.nextSibling);
                
                // Fade out the feedback container
                container.style.opacity = '0.6';
                container.style.pointerEvents = 'none';
            }

            // Initialize sticky header functionality
            function initStickyHeader() {
                var stickyNav = document.querySelector('.header-sticky');
                if (stickyNav) {
                    let ticking = false;
                    
                    // Add mobile-specific CSS for better sticky header support
                    const style = document.createElement('style');
                    style.textContent = `
                        @media (max-width: 768px) {
                            header.header-sticky-on {
                                position: fixed !important;
                                -webkit-transform: translateZ(0);
                                transform: translateZ(0);
                                -webkit-backface-visibility: hidden;
                                backface-visibility: hidden;
                                background-color: var(--bs-body-bg) !important;
                                border-bottom: 1px solid var(--bs-gray-200) !important;
                                width: 100% !important;
                                z-index: 1040 !important;
                            }
                            [data-bs-theme=dark] header.header-sticky-on {
                                border-bottom: 1px solid var(--bs-border-color) !important;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    function updateStickyHeader() {
                        var scTop = window.pageYOffset || document.documentElement.scrollTop;
                        if (scTop >= 400) {
                            stickyNav.classList.add('header-sticky-on');
                        } else {
                            stickyNav.classList.remove('header-sticky-on');
                        }
                        ticking = false;
                    }
                    
                    function requestTick() {
                        if (!ticking) {
                            requestAnimationFrame(updateStickyHeader);
                            ticking = true;
                        }
                    }
                    
                    // Use both scroll and touchmove events for better mobile support
                    document.addEventListener('scroll', requestTick, { passive: true });
                    document.addEventListener('touchmove', requestTick, { passive: true });
                    
                    // Also listen on window for better mobile support
                    window.addEventListener('scroll', requestTick, { passive: true });
                    window.addEventListener('touchmove', requestTick, { passive: true });
                }
            }

            // Initialize dark mode functionality
            function initDarkMode() {
                const el = document.querySelector('.theme-icon-active');
                if(el !== undefined && el !== null) {
                    const showActiveTheme = theme => {
                        const activeThemeIcon = document.querySelector('.theme-icon-active use')
                        const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
                        const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

                        document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
                            element.classList.remove('active')
                        })

                        btnToActive.classList.add('active')
                        activeThemeIcon.setAttribute('href', svgOfActiveBtn)
                    }

                    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
                        const storedTheme = localStorage.getItem('theme')
                        if (storedTheme !== 'light' || storedTheme !== 'dark') {
                            setTheme(getPreferredTheme())
                        }
                    })

                    showActiveTheme(getPreferredTheme())

                    // Use event delegation to handle theme toggle clicks
                    document.addEventListener('click', (e) => {
                        if (e.target.closest('[data-bs-theme-value]')) {
                            const toggle = e.target.closest('[data-bs-theme-value]')
                            const theme = toggle.getAttribute('data-bs-theme-value')
                            localStorage.setItem('theme', theme)
                            setTheme(theme)
                            showActiveTheme(theme)
                        }
                    })
                }
            }

            // Blog posts database for related posts
            const blogPostsDB = {
                'verosia-blog-wordpress-speed.html': {
                    title: 'Why Your WordPress Site is Slower Than Your Competitors',
                    category: 'web-development',
                    tags: ['web-development', 'wordpress', 'performance', 'speed', 'optimization', 'small-business'],
                    author: 'Nathan Cranston'
                },
                'digital-marketing-mistakes-small-business-belfast.html': {
                    title: '5 Digital Marketing Mistakes Killing Your Business Growth',
                    category: 'digital-strategy',
                    tags: ['digital-strategy', 'business-growth', 'marketing', 'strategy', 'small-business'],
                    author: 'Nathan Cranston'
                },
                'local-seo-northern-ireland-small-business.html': {
                    title: 'Local SEO: The Secret Weapon for Northern Ireland Small Businesses',
                    category: 'seo',
                    tags: ['seo', 'digital-strategy', 'small-business', 'local-seo', 'northern-ireland'],
                    author: 'Nathan Cranston'
                },
                'consistent-branding-customer-trust-belfast.html': {
                    title: 'How Consistent Branding Transforms Customer Trust',
                    category: 'brand-design',
                    tags: ['brand-design', 'small-business', 'design', 'branding', 'customer-trust'],
                    author: 'Nathan Cranston'
                },
                'social-media-strategy-small-business-belfast.html': {
                    title: 'From Peachy Plants to Digital Solutions: A Founder\'s Journey',
                    category: 'business-growth',
                    tags: ['business-growth', 'founder-journey', 'entrepreneurship', 'social-media', 'small-business'],
                    author: 'Nathan Cranston'
                }
            };

            // Function to find related posts based on tags and category
            function findRelatedPosts(currentPostUrl, maxPosts = 3) {
                const currentPost = blogPostsDB[currentPostUrl];
                if (!currentPost) return [];

                const relatedPosts = [];
                const currentTags = currentPost.tags;
                const currentCategory = currentPost.category;

                // Score posts based on tag overlap and category match
                Object.entries(blogPostsDB).forEach(([url, post]) => {
                    if (url === currentPostUrl) return; // Skip current post

                    let score = 0;
                    
                    // Category match gets higher score
                    if (post.category === currentCategory) {
                        score += 10;
                    }
                    
                    // Tag matches
                    post.tags.forEach(tag => {
                        if (currentTags.includes(tag)) {
                            score += 5;
                        }
                    });
                    
                    // Author match gets bonus points
                    if (post.author === currentPost.author) {
                        score += 2;
                    }

                    if (score > 0) {
                        relatedPosts.push({ url, ...post, score });
                    }
                });

                // Sort by score (highest first) and return top posts
                return relatedPosts
                    .sort((a, b) => b.score - a.score)
                    .slice(0, maxPosts);
            }

            // Function to populate related posts
            function populateRelatedPosts() {
                // Get current URL - handle both local file system and web server
                let currentUrl = window.location.pathname.split('/').pop();
                
                // Fallback: if pathname is empty or just '/', use the filename from the page title or href
                if (!currentUrl || currentUrl === '' || currentUrl === '/') {
                    // Try to get from window.location.href
                    currentUrl = window.location.href.split('/').pop();
                    // Remove any query parameters or fragments
                    currentUrl = currentUrl.split('?')[0].split('#')[0];
                }
                
                // Final fallback: hardcode the current file name for this specific blog post
                if (!currentUrl || !blogPostsDB[currentUrl]) {
                    currentUrl = 'verosia-blog-wordpress-speed.html';
                }
                
                // Debug logging
                console.log('Current URL detected:', currentUrl);
                console.log('Available posts:', Object.keys(blogPostsDB));
                
                const relatedPosts = findRelatedPosts(currentUrl);
                console.log('Related posts found:', relatedPosts);
                
                const relatedPostsList = document.getElementById('related-posts-list');
                
                if (!relatedPostsList) {
                    console.log('Related posts list element not found');
                    return;
                }
                
                if (relatedPosts.length === 0) {
                    console.log('No related posts found');
                    // Show a fallback message
                    relatedPostsList.innerHTML = '<li class="list-group-item ps-0"><span class="text-muted">No related posts found</span></li>';
                    return;
                }

                relatedPostsList.innerHTML = '';
                
                relatedPosts.forEach(post => {
                    const li = document.createElement('li');
                    li.className = 'list-group-item ps-0';
                    li.innerHTML = `<a href="${post.url}" class="heading-color text-primary-hover fw-semibold">${post.title}</a>`;
                    relatedPostsList.appendChild(li);
                });
            }

            // Cookie Banner Initialization
            function initializeCookieBanner() {
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }

                // Show banner unless a previous choice exists
                var choice = localStorage.getItem('vs_consent');
                if (!choice) {
                    var banner = document.getElementById('vs-consent');
                    if (banner) banner.style.display = 'block';
                }

                function setConsent(state){
                    gtag('consent','update',{
                        'ad_storage': state,
                        'analytics_storage': state,
                        'ad_user_data': state,
                        'ad_personalization': state
                    });
                    localStorage.setItem('vs_consent', state);
                    var banner = document.getElementById('vs-consent');
                    if (banner) banner.style.display = 'none';
                }

                // Add event listeners
                var acceptBtn = document.getElementById('vs-accept');
                var rejectBtn = document.getElementById('vs-reject');
                
                if (acceptBtn) acceptBtn.onclick = function(){ setConsent('granted'); };
                if (rejectBtn) rejectBtn.onclick = function(){ setConsent('denied'); };
            }

            // Load templates when page loads
            document.addEventListener('DOMContentLoaded', function() {
                console.log('   Loading templates...');
                loadTemplate('header-container', 'templates/header.html');
                loadTemplate('footer-container', 'templates/footer.html');

                // Populate related posts
                populateRelatedPosts();

                // Initialize dropdown hover, dark mode, and sticky header after templates load
                setTimeout(() => {
                    initDropdownHover();
                    initDarkMode();
                    initStickyHeader();
                    initBlogFeedback();
                    initializeCookieBanner();
                }, 500);
                
                // Also initialize cookie banner immediately (backup in case template loading is slow)
                setTimeout(() => {
                    initializeCookieBanner();
                }, 100);
            });
        </script>
        
        <!-- Hidden form for blog feedback -->
        <form name="blog-feedback" netlify netlify-honeypot="bot-field" hidden>
            <input type="text" name="page" />
            <input type="text" name="feedback" />
            <input type="text" name="timestamp" />
            <input type="text" name="url" />
            <input type="text" name="bot-field" />
        </form>
    </body>     
</html>
